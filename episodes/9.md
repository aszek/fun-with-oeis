# Stockhausen's three repetitions

Karlheinz Stockhausen's *Klavierst端ck XI* is a piano composition organized as follows. Notes of 19 music fragments are spread on a page. The pianist starts with a random piece, then plays a different random piece and so on, always choosing at random a fragment other than the last one. The performance stops when some fragment has been played three times.

How many ways are there to execute Klavierst端ck XI? The answer (for any number of fragments) is given in the OEIS sequence ``A008271``. Unsurprisingly, it will also give you links to related papers with very cool generatingfunctionology. It turns out for 19 fragments there are about ``1.7*10^40`` possible versions of Klavierst端ck XI. 

But here is a question. Clearly the maximum number of pieces that can be played in any Klavierst端ck XI rendition is ``2 * 19 + 1 = 39``. But what is the **expected** length of a performance? Is it

* around 10 pieces,
* around 16 pieces,
* around 22 pieces?